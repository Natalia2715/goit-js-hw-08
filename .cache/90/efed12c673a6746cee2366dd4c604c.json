{"id":"TTyb","dependencies":[{"name":"D:\\git\\goit-js-hw-08\\package.json","includedInParent":true,"mtime":1648535217414},{"name":"D:\\git\\goit-js-hw-08\\.browserslistrc","includedInParent":true,"mtime":1647534065409},{"name":"lodash.throttle","loc":{"line":1,"column":21},"parent":"D:\\git\\goit-js-hw-08\\src\\js\\03-feedback.js","resolved":"D:\\git\\goit-js-hw-08\\node_modules\\lodash.throttle\\index.js"}],"generated":{"js":"\"use strict\";var e=t(require(\"lodash.throttle\"));function t(e){return e&&e.__esModule?e:{default:e}}const a={form:document.querySelector(\".feedback-form\"),emailInput:document.querySelector(\"input\"),messageInput:document.querySelector(\"textarea\")},r={email:\"\",message:\"\"},o=\"feedback-form-state\";function n(e){e.preventDefault();const t=localStorage.getItem(o);console.log(t),localStorage.clear(),e.currentTarget.reset()}function l(e){r[e.target.name]=e.target.value,localStorage.setItem(o,JSON.stringify(r))}function s(){const e=JSON.parse(localStorage.getItem(o)),t=e.email,n=e.message;e&&(localStorage.setItem(o,JSON.stringify(e)),a.emailInput.value=t,a.messageInput.value=n,r.email=t,r.message=n)}a.form.addEventListener(\"submit\",n),a.form.addEventListener(\"input\",(0,e.default)(l,500)),s();"},"sourceMaps":{"js":{"mappings":[{"source":"js/03-feedback.js","original":{"line":47,"column":1},"generated":{"line":1,"column":0}},{"source":"js/03-feedback.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"js/03-feedback.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"js/03-feedback.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"js/03-feedback.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"js/03-feedback.js","original":{"line":1,"column":0},"generated":{"line":1,"column":29}},{"source":"js/03-feedback.js","original":{"line":47,"column":1},"generated":{"line":1,"column":49}},{"source":"js/03-feedback.js","original":{"line":47,"column":1},"generated":{"line":1,"column":58}},{"source":"js/03-feedback.js","original":{"line":47,"column":1},"generated":{"line":1,"column":60}},{"source":"js/03-feedback.js","original":{"line":47,"column":1},"generated":{"line":1,"column":63}},{"source":"js/03-feedback.js","original":{"line":47,"column":1},"generated":{"line":1,"column":70}},{"source":"js/03-feedback.js","original":{"line":47,"column":1},"generated":{"line":1,"column":73}},{"source":"js/03-feedback.js","original":{"line":47,"column":1},"generated":{"line":1,"column":75}},{"source":"js/03-feedback.js","original":{"line":47,"column":1},"generated":{"line":1,"column":86}},{"source":"js/03-feedback.js","original":{"line":47,"column":1},"generated":{"line":1,"column":88}},{"source":"js/03-feedback.js","original":{"line":47,"column":1},"generated":{"line":1,"column":89}},{"source":"js/03-feedback.js","original":{"line":47,"column":1},"generated":{"line":1,"column":97}},{"source":"js/03-feedback.js","original":{"line":3,"column":0},"generated":{"line":1,"column":100}},{"source":"js/03-feedback.js","name":"refs","original":{"line":3,"column":6},"generated":{"line":1,"column":106}},{"source":"js/03-feedback.js","original":{"line":3,"column":13},"generated":{"line":1,"column":108}},{"source":"js/03-feedback.js","name":"form","original":{"line":4,"column":4},"generated":{"line":1,"column":109}},{"source":"js/03-feedback.js","name":"document","original":{"line":4,"column":10},"generated":{"line":1,"column":114}},{"source":"js/03-feedback.js","name":"querySelector","original":{"line":4,"column":19},"generated":{"line":1,"column":123}},{"source":"js/03-feedback.js","original":{"line":4,"column":33},"generated":{"line":1,"column":137}},{"source":"js/03-feedback.js","name":"emailInput","original":{"line":5,"column":4},"generated":{"line":1,"column":155}},{"source":"js/03-feedback.js","name":"document","original":{"line":5,"column":16},"generated":{"line":1,"column":166}},{"source":"js/03-feedback.js","name":"querySelector","original":{"line":5,"column":25},"generated":{"line":1,"column":175}},{"source":"js/03-feedback.js","original":{"line":5,"column":39},"generated":{"line":1,"column":189}},{"source":"js/03-feedback.js","name":"messageInput","original":{"line":6,"column":4},"generated":{"line":1,"column":198}},{"source":"js/03-feedback.js","name":"document","original":{"line":6,"column":18},"generated":{"line":1,"column":211}},{"source":"js/03-feedback.js","name":"querySelector","original":{"line":6,"column":27},"generated":{"line":1,"column":220}},{"source":"js/03-feedback.js","original":{"line":6,"column":41},"generated":{"line":1,"column":234}},{"source":"js/03-feedback.js","name":"formData","original":{"line":9,"column":6},"generated":{"line":1,"column":247}},{"source":"js/03-feedback.js","original":{"line":9,"column":17},"generated":{"line":1,"column":249}},{"source":"js/03-feedback.js","name":"email","original":{"line":10,"column":4},"generated":{"line":1,"column":250}},{"source":"js/03-feedback.js","original":{"line":10,"column":11},"generated":{"line":1,"column":256}},{"source":"js/03-feedback.js","name":"message","original":{"line":11,"column":4},"generated":{"line":1,"column":259}},{"source":"js/03-feedback.js","original":{"line":11,"column":13},"generated":{"line":1,"column":267}},{"source":"js/03-feedback.js","name":"KEY","original":{"line":14,"column":6},"generated":{"line":1,"column":271}},{"source":"js/03-feedback.js","original":{"line":14,"column":12},"generated":{"line":1,"column":273}},{"source":"js/03-feedback.js","original":{"line":21,"column":0},"generated":{"line":1,"column":295}},{"source":"js/03-feedback.js","name":"onFormSubmit","original":{"line":21,"column":9},"generated":{"line":1,"column":304}},{"source":"js/03-feedback.js","name":"event","original":{"line":21,"column":22},"generated":{"line":1,"column":306}},{"source":"js/03-feedback.js","name":"event","original":{"line":22,"column":4},"generated":{"line":1,"column":309}},{"source":"js/03-feedback.js","name":"preventDefault","original":{"line":22,"column":10},"generated":{"line":1,"column":311}},{"source":"js/03-feedback.js","name":"fdb","original":{"line":23,"column":10},"generated":{"line":1,"column":328}},{"source":"js/03-feedback.js","name":"fdb","original":{"line":23,"column":10},"generated":{"line":1,"column":334}},{"source":"js/03-feedback.js","name":"localStorage","original":{"line":23,"column":16},"generated":{"line":1,"column":336}},{"source":"js/03-feedback.js","name":"getItem","original":{"line":23,"column":29},"generated":{"line":1,"column":349}},{"source":"js/03-feedback.js","name":"KEY","original":{"line":23,"column":37},"generated":{"line":1,"column":357}},{"source":"js/03-feedback.js","name":"console","original":{"line":24,"column":4},"generated":{"line":1,"column":360}},{"source":"js/03-feedback.js","name":"log","original":{"line":24,"column":12},"generated":{"line":1,"column":368}},{"source":"js/03-feedback.js","name":"fdb","original":{"line":24,"column":16},"generated":{"line":1,"column":372}},{"source":"js/03-feedback.js","name":"localStorage","original":{"line":25,"column":4},"generated":{"line":1,"column":375}},{"source":"js/03-feedback.js","name":"clear","original":{"line":25,"column":17},"generated":{"line":1,"column":388}},{"source":"js/03-feedback.js","name":"event","original":{"line":26,"column":4},"generated":{"line":1,"column":396}},{"source":"js/03-feedback.js","name":"currentTarget","original":{"line":26,"column":10},"generated":{"line":1,"column":398}},{"source":"js/03-feedback.js","name":"reset","original":{"line":26,"column":24},"generated":{"line":1,"column":412}},{"source":"js/03-feedback.js","original":{"line":28,"column":0},"generated":{"line":1,"column":420}},{"source":"js/03-feedback.js","name":"onFormInput","original":{"line":28,"column":9},"generated":{"line":1,"column":429}},{"source":"js/03-feedback.js","name":"event","original":{"line":28,"column":21},"generated":{"line":1,"column":431}},{"source":"js/03-feedback.js","name":"formData","original":{"line":29,"column":4},"generated":{"line":1,"column":434}},{"source":"js/03-feedback.js","name":"event","original":{"line":29,"column":13},"generated":{"line":1,"column":436}},{"source":"js/03-feedback.js","name":"target","original":{"line":29,"column":19},"generated":{"line":1,"column":438}},{"source":"js/03-feedback.js","name":"name","original":{"line":29,"column":26},"generated":{"line":1,"column":445}},{"source":"js/03-feedback.js","name":"event","original":{"line":29,"column":34},"generated":{"line":1,"column":451}},{"source":"js/03-feedback.js","name":"target","original":{"line":29,"column":40},"generated":{"line":1,"column":453}},{"source":"js/03-feedback.js","name":"value","original":{"line":29,"column":47},"generated":{"line":1,"column":460}},{"source":"js/03-feedback.js","name":"localStorage","original":{"line":30,"column":4},"generated":{"line":1,"column":466}},{"source":"js/03-feedback.js","name":"setItem","original":{"line":30,"column":17},"generated":{"line":1,"column":479}},{"source":"js/03-feedback.js","name":"KEY","original":{"line":30,"column":25},"generated":{"line":1,"column":487}},{"source":"js/03-feedback.js","name":"JSON","original":{"line":30,"column":30},"generated":{"line":1,"column":489}},{"source":"js/03-feedback.js","name":"stringify","original":{"line":30,"column":35},"generated":{"line":1,"column":494}},{"source":"js/03-feedback.js","name":"formData","original":{"line":30,"column":45},"generated":{"line":1,"column":504}},{"source":"js/03-feedback.js","original":{"line":33,"column":0},"generated":{"line":1,"column":508}},{"source":"js/03-feedback.js","name":"populateFeedback","original":{"line":33,"column":9},"generated":{"line":1,"column":517}},{"source":"js/03-feedback.js","name":"savedFbck","original":{"line":35,"column":10},"generated":{"line":1,"column":521}},{"source":"js/03-feedback.js","name":"savedFbck","original":{"line":35,"column":10},"generated":{"line":1,"column":527}},{"source":"js/03-feedback.js","name":"JSON","original":{"line":35,"column":22},"generated":{"line":1,"column":529}},{"source":"js/03-feedback.js","name":"parse","original":{"line":35,"column":27},"generated":{"line":1,"column":534}},{"source":"js/03-feedback.js","name":"localStorage","original":{"line":35,"column":33},"generated":{"line":1,"column":540}},{"source":"js/03-feedback.js","name":"getItem","original":{"line":35,"column":46},"generated":{"line":1,"column":553}},{"source":"js/03-feedback.js","name":"KEY","original":{"line":35,"column":54},"generated":{"line":1,"column":561}},{"source":"js/03-feedback.js","name":"savedEmail","original":{"line":36,"column":10},"generated":{"line":1,"column":565}},{"source":"js/03-feedback.js","name":"savedFbck","original":{"line":36,"column":23},"generated":{"line":1,"column":567}},{"source":"js/03-feedback.js","name":"email","original":{"line":36,"column":33},"generated":{"line":1,"column":569}},{"source":"js/03-feedback.js","name":"savedMessage","original":{"line":37,"column":10},"generated":{"line":1,"column":575}},{"source":"js/03-feedback.js","name":"savedFbck","original":{"line":37,"column":25},"generated":{"line":1,"column":577}},{"source":"js/03-feedback.js","name":"message","original":{"line":37,"column":35},"generated":{"line":1,"column":579}},{"source":"js/03-feedback.js","name":"savedFbck","original":{"line":39,"column":8},"generated":{"line":1,"column":587}},{"source":"js/03-feedback.js","name":"localStorage","original":{"line":40,"column":8},"generated":{"line":1,"column":591}},{"source":"js/03-feedback.js","name":"setItem","original":{"line":40,"column":21},"generated":{"line":1,"column":604}},{"source":"js/03-feedback.js","name":"KEY","original":{"line":40,"column":29},"generated":{"line":1,"column":612}},{"source":"js/03-feedback.js","name":"JSON","original":{"line":40,"column":34},"generated":{"line":1,"column":614}},{"source":"js/03-feedback.js","name":"stringify","original":{"line":40,"column":39},"generated":{"line":1,"column":619}},{"source":"js/03-feedback.js","name":"savedFbck","original":{"line":40,"column":49},"generated":{"line":1,"column":629}},{"source":"js/03-feedback.js","name":"refs","original":{"line":41,"column":12},"generated":{"line":1,"column":633}},{"source":"js/03-feedback.js","name":"emailInput","original":{"line":41,"column":17},"generated":{"line":1,"column":635}},{"source":"js/03-feedback.js","name":"value","original":{"line":41,"column":28},"generated":{"line":1,"column":646}},{"source":"js/03-feedback.js","name":"savedEmail","original":{"line":41,"column":36},"generated":{"line":1,"column":652}},{"source":"js/03-feedback.js","name":"refs","original":{"line":42,"column":12},"generated":{"line":1,"column":654}},{"source":"js/03-feedback.js","name":"messageInput","original":{"line":42,"column":17},"generated":{"line":1,"column":656}},{"source":"js/03-feedback.js","name":"value","original":{"line":42,"column":30},"generated":{"line":1,"column":669}},{"source":"js/03-feedback.js","name":"savedMessage","original":{"line":42,"column":38},"generated":{"line":1,"column":675}},{"source":"js/03-feedback.js","name":"formData","original":{"line":43,"column":8},"generated":{"line":1,"column":677}},{"source":"js/03-feedback.js","name":"email","original":{"line":43,"column":17},"generated":{"line":1,"column":679}},{"source":"js/03-feedback.js","name":"savedEmail","original":{"line":43,"column":25},"generated":{"line":1,"column":685}},{"source":"js/03-feedback.js","name":"formData","original":{"line":44,"column":8},"generated":{"line":1,"column":687}},{"source":"js/03-feedback.js","name":"message","original":{"line":44,"column":17},"generated":{"line":1,"column":689}},{"source":"js/03-feedback.js","name":"savedMessage","original":{"line":44,"column":27},"generated":{"line":1,"column":697}},{"source":"js/03-feedback.js","name":"refs","original":{"line":16,"column":0},"generated":{"line":1,"column":700}},{"source":"js/03-feedback.js","name":"form","original":{"line":16,"column":5},"generated":{"line":1,"column":702}},{"source":"js/03-feedback.js","name":"addEventListener","original":{"line":16,"column":10},"generated":{"line":1,"column":707}},{"source":"js/03-feedback.js","original":{"line":16,"column":27},"generated":{"line":1,"column":724}},{"source":"js/03-feedback.js","name":"onFormSubmit","original":{"line":16,"column":37},"generated":{"line":1,"column":733}},{"source":"js/03-feedback.js","name":"refs","original":{"line":17,"column":0},"generated":{"line":1,"column":736}},{"source":"js/03-feedback.js","name":"form","original":{"line":17,"column":5},"generated":{"line":1,"column":738}},{"source":"js/03-feedback.js","name":"addEventListener","original":{"line":17,"column":10},"generated":{"line":1,"column":743}},{"source":"js/03-feedback.js","original":{"line":17,"column":27},"generated":{"line":1,"column":760}},{"source":"js/03-feedback.js","original":{"line":17,"column":36},"generated":{"line":1,"column":769}},{"source":"js/03-feedback.js","name":"onFormInput","original":{"line":17,"column":45},"generated":{"line":1,"column":771}},{"source":"js/03-feedback.js","name":"onFormInput","original":{"line":17,"column":45},"generated":{"line":1,"column":773}},{"source":"js/03-feedback.js","name":"onFormInput","original":{"line":17,"column":45},"generated":{"line":1,"column":782}},{"source":"js/03-feedback.js","original":{"line":17,"column":58},"generated":{"line":1,"column":784}},{"source":"js/03-feedback.js","name":"populateFeedback","original":{"line":19,"column":0},"generated":{"line":1,"column":790}}],"sources":{"js/03-feedback.js":"import throttle from 'lodash.throttle';\n\nconst refs = {\n    form: document.querySelector(\".feedback-form\"),\n    emailInput: document.querySelector(\"input\"),\n    messageInput: document.querySelector(\"textarea\"),\n};\n\nconst formData = {\n    email: \"\",\n    message: \"\",\n};\n\nconst KEY = \"feedback-form-state\"\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.form.addEventListener('input', throttle(onFormInput, 500));\n\npopulateFeedback();\n\nfunction onFormSubmit(event) {\n    event.preventDefault();\n    const fdb = localStorage.getItem(KEY);\n    console.log(fdb);\n    localStorage.clear();\n    event.currentTarget.reset();\n };\nfunction onFormInput(event) {\n    formData[event.target.name] = event.target.value;\n    localStorage.setItem(KEY, JSON.stringify(formData));\n    };\n\nfunction populateFeedback() {\n    \n    const savedFbck = JSON.parse(localStorage.getItem(KEY));\n    const savedEmail = savedFbck.email;\n    const savedMessage = savedFbck.message;\n\n    if (savedFbck) {\n        localStorage.setItem(KEY, JSON.stringify(savedFbck));\n            refs.emailInput.value = savedEmail;\n            refs.messageInput.value = savedMessage;\n        formData.email = savedEmail;\n        formData.message = savedMessage;\n    }\n       \n}"},"lineCount":null}},"error":null,"hash":"1647c6793bb2ab589d168b63d39e7118","cacheData":{"env":{}}}